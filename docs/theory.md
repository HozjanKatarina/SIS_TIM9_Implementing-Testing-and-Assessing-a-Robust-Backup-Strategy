# 1. Teorijski okvir

Teorijsko poglavlje pokriva sama objašnjenja toga što je backup i oporavak. Također, detaljnije će biti objašnjene i dodatne podjele, načela i strategije ovih tehnika. One su važne za garantiranje minimalne štete poslovanju u slučaju neočekivanog gubitka podataka bilo ono uzrokovano namjerno ili nenamjerno. U namjerne situacije spadaju primjerice napadi na sustav, dok u nenamjerne situacije spadaju slučajna brisanja podataka ili druge vrste ljudskih grešaka.

## 1.1. Backup

Prema Nelsonu (2011), backup označava proces stvaranja sigurnosne kopije podataka u određenom trenutku, s ciljem njihove zaštite i kasnije obnove u slučaju gubitka. Često ljudi miješaju backup s arhiviranjem, no glavna razlika leži u svrsi i vremenskom horizontu pohrane. Backup se koristi za kratkoročno očuvanje dostupnosti podataka i omogućuje njihovu brzu obnovu u slučaju oštećenja, kvara ili slučajnog brisanja. S druge strane, arhiviranje je namijenjeno dugoročnom čuvanju podataka koji se više aktivno ne koriste, ali ih je potrebno zadržati zbog zakonskih, poslovnih ili povijesnih razloga. Ukratko, backup štiti aktivne podatke od gubitka, dok arhiva čuva neaktivne podatke za buduću referencu. Kod dizajna backup sustava i određivanja njegovih sposobnosti najvažnije je pratiti potrebe organizacije za koju se radi. Dvije ključne metrike koje određuju sposobnosti budućeg sustava su RTO (*Return Time Objective*) i RPO (*Recovery Point Objective*). Riječ je o ciljanim metrikama toga koliko dugo je potrebno da se sustav ponovno digne i toga kolika će biti vremenska šteta nakon dovršetka procesa oporavka. Prema Prestonu (2021.), sustav je važno i testirati kako bi se dobile konkretne metrike implementacije, čime se dobivaju vrijednosti RTA (*Return Time Actual*) i RPA (*Recovery Point Actual*). U politici sustava važno je odrediti i okvirno vrijeme provedbe kopiranja (en. backup window) zbog zahtjevnosti samog procesa, te vremenski period zadržavanja sigurnosnih kopija (*engl. retention policy*). Preston navodi kako je industrijski standard oko 18 mjeseci, jer nakon toga kopije više nisu kompatibilne s trenutnom arhitekturom sustava, a i uglavnom su za oporavak korišteni podaci iz proteklin nekoliko dana. 

### 1.1.1. Vrste backupa

Razlikujemo nekoliko glavnih tipova sigurnosnih kopija (*engl. backupa*), puni (*engl. full*), diferencijalni (*engl. differential*) i inkrementalni (*engl. incremental*) backup. Svaki od ovih tipova backupova ima svoju primjenu, te ovisi o različitim ograničenjima, količini podataka, učestalosti promjena i samoj dostupnosti resurima (Nelson, 2011.).

Puni (*engl. full*) backup odnosi se na potpunu kopiju svih odabranih podataka u trenutku stvaranja kopije. Ova vrsta backupa najpouzdaniji je oblik zaštite podataka i omogućuje najbrži oporavak (*engl. restore*) u slučaju gubitka, jer se svi podaci nalaze u jednoj cjelovitoj kopiji. Međutim, njegova glavna mana je što zahtijeva veliku količinu prostora za pohranu i dulje vrijeme za izvršavanje u odnosu na druge metode. Zbog toga se u praksi puni backup najčešće kombinira s inkrementalnim ili diferencijalnim backupom, čime se postiže bolja učinkovitost, manja potrošnja resursa i kraće vrijeme izrade sigurnosnih kopija (Nelson, 2011.). 

Diferencijalni (*engl. differential*) backup bilježi sve promjene napravljene od posljednjeg punog (engl. full) backupa. Prema Nelsonu (2011), ovakav način rada može dovesti do naglog povećanja veličine sigurnosnih kopija, budući da se sa svakim novim pokretanjem postupka pohranjuju sve promjene od zadnjeg punog backupa, uključujući i one koje su već zabilježene u prethodnim diferencijalnim kopijama. Na primjer, ako se puni backup izvede u ponedjeljak, diferencijalni backup u utorak sadržavat će sve promjene od ponedjeljka. Sljedeći diferencijalni backup, izveden u srijedu, ponovno će obuhvatiti sve promjene od ponedjeljka do srijede, čime njegova veličina postupno raste sve dok se ne izradi nova puna kopija. Unatoč tome, diferencijalni backup ima važnu prednost, a to je upravo proces oporavka (*engl. restore*) koji je znatno jednostavniji i brži nego kod inkrementalnog pristupa, jer su za obnovu podataka potrebna samo dva seta kopija: posljednji puni backup i najnoviji diferencijalni. Zbog toga se ova metoda često koristi kao uravnoteženo rješenje koje kombinira učinkovitost i jednostavnost oporavka, posebno u sustavima gdje se podaci redovito mijenjaju, ali ne u velikom obujmu.

Inkrementalni (*engl. incremental*) backup predstavlja vrstu sigurnosnog kopiranja koja bilježi samo one promjene koje su nastale nakon posljednjeg backupa bilo koje vrste, bilo da je riječ o punom (*engl. full*) ili prethodnom inkrementalnom backupu. Za razliku od diferencijalnog backupa, koji uvijek uspoređuje podatke s posljednjim punim backupom, inkrementalni pristup kopira isključivo nove ili izmijenjene podatke od zadnjeg trenutka sigurnosnog kopiranja. Prema Nelsonu (2011), najveća prednost inkrementalnog backupa je njegova učinkovitost i štedljivost. Budući da se pohranjuje samo mali skup promjena, proces izrade sigurnosne kopije je brz i zahtijeva minimalnu količinu prostora za pohranu. Zbog toga je ova metoda posebno korisna u okruženjima gdje se backupi izvode često, primjerice svakodnevno ili više puta dnevno. Međutim, prilikom oporavka podataka (*engl. restore*), inkrementalni backup pokazuje i svoju glavnu slabost. Da bi se sustav vratio u posljednje poznato stanje, potrebno je učitati puni backup i sve naknadne inkrementalne kopije koje su nastale nakon njega. To može produljiti proces oporavka i povećati rizik od pogreške ako je neka od kopija oštećena ili nedostaje. U praksi se inkrementalni backup često koristi u kombinaciji s povremenim punim backupom, čime se postiže optimalan omjer između učinkovitosti pohrane i brzine oporavka sustava. 

Osim ovih pristupa kopiranju važno je istaknuti i to što se kopira, pa je tako prema Prestonu (2021) važno istaknuti backup na razini pojedinih objekata (*engl. item level*), odnosno datoteka, te backup na razini cijelog diska (*engl. image level*). Backup na razini datoteka poklapa se s laičkom idejom backupa gdje se čine sigurnosne kopije zasebnih datoteka korištenjem datotečnog sustava. Kod ovakvog pristupa postoje dva načela: selektivna inkluzija i selektivna ekskluzija. Inkluzija podrazumijeva ručno biranje svega što bi se trebalo kopirati, a ekskluzija onoga što se ne bi trebalo kopirati. Ekskluzija se može smatrati sigurnijom jer je tako manje vjerojatno da ćemo zaboraviti uključiti nešto što će nam kasnije trebati. Backup na razini diska pak ima direktan pristup pohrani na razini blokova što ga čini bržim za kopirati, ali i prilikom oporavka. U slučaju da je potrebno iskopati samo određenu datoteku slika diska može se montirati (engl. to mount) i pretražiti kao da je riječ o disku u računalu. Ovaj pristup popularan je kod rada s virtualnim strojevima, pa tako većina VM alata podržava kreiranje slika diska u njihovom formatu (npr. vmdk za VMWare).  

#### 1.1.2. Backup strategije 
Razlikujemo različite vrste strategija sigurnosnog kopiranja podataka, pri čemu svaka od njih ima svoje prednosti, ograničenja i optimalna područja primjene. Odabir odgovarajuće strategije ovisi o učestalosti promjena podataka, dostupnim resursima, te zahtjevima za brzinom oporavka sustava u slučaju gubitka podataka. Dobro osmišljena strategija mora osigurati ravnotežu između učinkovitosti, sigurnosti i troškova (Nelson, 2011; Cougias, Heiberger i Koop, 2003). 

Jedna od najosnovnijih strategija je dnevno kopiranje (engl. daily backup), pri čemu se podaci sigurnosno kopiraju jednom dnevno, najčešće tijekom noći kada su sustavi manje opterećeni. Ova metoda omogućuje redovitu zaštitu podataka uz minimalan utjecaj na performanse sustava, ali može rezultirati gubitkom podataka nastalih između dva ciklusa sigurnosnog kopiranja (Preston, 2007).  

Kako bi se osigurala veća pouzdanost, često se primjenjuje tzv. pravilo 3–2–1, koje predstavlja industrijski standard u području zaštite podataka. Prema tom pravilu, korisnik bi trebao imati tri kopije podataka (jednu primarnu i dvije sigurnosne), pohranjene na dvije različite vrste medija (npr. tvrdi disk i oblak), dok bi jedna kopija trebala biti pohranjena izvan lokacije (*engl. off-site*), čime se smanjuje rizik od gubitka podataka uslijed fizičkih oštećenja, krađe ili katastrofa (Backblaze, 2024). Zanimljiv primjer u kojem bi udaljena kopija bila korisna bio je napad na Svjetski trgovački centar 2001. kada je nekoliko tvrtki propalo zato što su svoje podatke držale u uredu u jednome tornju, a sigurnosnu kopiju podataka u drugome tornju (Preston, 2021). Ova strategija posebno se preporučuje za poslovne sustave jer osigurava kontinuitet poslovanja i otpornost na više vrsta prijetnji. 

Još jedna raširena metoda je GFS strategija (engl. Grandfather–Father–Son), koja koristi rotacijski sustav sigurnosnih kopija. U toj strukturi „sin” predstavlja dnevni backup, „otac” tjedni, a „djed” mjesečni backup (Storware, 2025.). Na taj način se ostvaruje dugoročna pohrana podataka uz racionalno korištenje prostora i medija. Prednost GFS pristupa je što omogućuje povrat podataka s različitih vremenskih točaka, dok je glavni nedostatak složenije upravljanje kopijama i potreba za većim brojem medija za pohranu (Preston, 2007). Prema dokumentaciji rješenja Commvault Backup & Recovery (Commvault, 2025), GFS shema u praksi se ostvaruje korištenjem koncepta Extended Retention Rules. Ovim pristupom definiraju se različiti vremenski okviri zadržavanja kopija podataka, čime se postiže višeslojna rotacija i mogućnost povrata podataka s različitih vremenskih razina. Na primjer, osnovne dnevne kopije (daily backups) obično se zadržavaju oko 30 dana, mjesečne pune kopije (monthly full backups) čuvaju se do 365 dana, dok se godišnje kopije mogu pohranjivati neograničeno. Takva struktura omogućuje organizacijama da kombiniraju brzi oporavak sustava i dugoročno arhiviranje podataka kroz istu strategiju (Commvault, 2025). U praksi, ova politika zadržavanja osigurava fleksibilnost u oporavku podataka. Primjerice, ako dođe do slučajnog brisanja dokumenta, obnova se može izvršiti iz “sin” kopije, odnosno dnevnog backupa koji sadrži najnovije stanje sustava. U situacijama kada je greška nastala ranije (npr. prije nekoliko tjedana), koristi se “otac” kopija — tjedni backup. Za potrebe povrata starijih podataka, poput stanja sustava od prije nekoliko mjeseci ili godina, koristi se “djed” kopija — mjesečna ili godišnja sigurnosna kopija. Na taj način, GFS model omogućuje ravnotežu između brzine oporavka i dubine povijesne pohrane (Storware, 2025) 

Tower of Hanoi strategija sigurnosnog kopiranja temelji se na poznatoj matematičkoj slagalici istog naziva, a koristi se kao rotacijski sustav za dugoročno čuvanje podataka. Ova metoda kombinira principe učinkovitog korištenja medija za pohranu i maksimalne vremenske dubine povijesnih kopija. U praksi se sastoji od niza sigurnosnih kopija koje se rotiraju prema unaprijed definiranom rasporedu, pri čemu se svaka nova kopija izrađuje na određenom mediju koji se koristi u različitim vremenskim intervalima. Na primjer, prva kopija može se izvoditi svakog dana, druga svaka dva dana, treća svaka četiri dana i tako dalje, pri čemu se stariji mediji koriste rjeđe, ali čuvaju dulju povijest podataka (Nextpertise, 2022). Prednost Tower of Hanoi pristupa leži u smanjenju broja potrebnih medija u odnosu na tradicionalne rotacijske metode poput Grandfather–Father–Son (GFS), uz istovremeno produženje vremenskog raspona dostupnih sigurnosnih kopija. Time se omogućuje učinkovita ravnoteža između troškova pohrane i dostupnosti povijesnih verzija podataka. Međutim, glavni nedostatak ove metode je složenost planiranja i upravljanja rotacijom, što zahtijeva detaljno praćenje redoslijeda i automatizaciju procesa, osobito u većim sustavima (Severalnines, bez dat.). Zbog svojih karakteristika, Tower of Hanoi backup strategija najčešće se koristi u organizacijama koje zahtijevaju dugoročno zadržavanje podataka uz ograničene resurse za pohranu, te u okruženjima gdje je važno osigurati više vremenskih točaka za oporavak bez velikog broja fizičkih medija (Nextpertise, 2022; Severalnines, bez dat.).
  
U suvremenim informatičkim sustavima sve su češće prisutne hibridne strategije sigurnosnog kopiranja (*engl. hybrid backup*), koje kombiniraju lokalnu pohranu podataka i pohranu u oblaku. Takav pristup omogućuje organizacijama da istovremeno iskoriste prednosti brzog lokalnog oporavka te otpornosti i skalabilnosti oblaka, čime se osigurava veća dostupnost i sigurnost podataka. Hibridni backup omogućuje redundanciju, jer se podaci pohranjuju na više fizički odvojenih lokacija, a dodatnu sigurnost pružaju enkripcija i kontrola pristupa. Unatoč nešto višim troškovima, smatra se najsigurnijim i najfleksibilnijim rješenjem za organizacije koje barataju osjetljivim ili poslovno kritičnim informacijama (Rubrik, 2025).


#### 1.1.3. Backup baza podataka

Kada se govori o kreiranju sigurnosne kopije baza podataka važno je istaknuti nekoliko pristupa. Fizički backup odnosi se na kreiranje sigurnosnih kopija konkretnih datoteka sa sadržajima baze podataka, konfiguracijskih datoteka i transakcijskih zapisa. Ovakav pristup rezultira brzim oporavkom u slučaju gubitka baze podataka. Princip logičkog backupa baze podataka počiva na ideji da se struktura baze i unosi u nju pohranjuju u ljudski čitljivom obliku kao što su SQL naredbe. U tu svrhu koriste se posebni alati za generiranje naredbi prema bazi podataka. Ovaj pristup prikladan je za manje sustave, no kod većih bi izvedba ogromne količine naredbi mogla dovesti do sporijeg oporavka. Također, i sam proces izvoza naredbi nije pretjerano efikasan. 


## 1.2. Oporavak podataka

Oporavak podataka (*engl. data recovery*) definira se kao postupak obnove izgubljenih, oštećenih ili nedostupnih podataka natrag u stanje u kojem su bili u ciljanom vremenskom trenutku. Njegova je svrha osigurati kontinuitet rada sustava te smanjiti rizike i negativne posljedice prekida (Nelson, 2011.). Kako bi se olakšalo snalaženje među raznim sigurnosnim kopijama, Preston (2021.) navodi kako je važno evidentirati određene informacije poput toga s kojeg sustava backup dolazi, o kojoj datoteci se radi (cijela putanja), te datum kada je sigurnosna kopija bila kreirana. Važno je istaknuti kako se ponekad proces oporavka može provesti i nekoliko puta uzastopno ukoliko ne znamo u kojem trenutku je došlo do problema (primjerice korupcije ključne datoteke koju nitko nije primijetio).  

Povećanjem ransomware napada tvrtke su shvatile kako moraju imati dobar plan oporavka kako bi se bile sposobne brzo vratiti na noge i tako bile manje atraktivne ucjenjivačima. Planom oporavka pripremaju se postupci da se u slučaju gubitka podataka zna jasna procedura. Važno je specificirati gdje će se dobaviti sklopovlje u slučaju fizičke nesreće, prioriteti oporavka, nasljedna linija ljudi zaduženih za provedbu oporavka te stupanj automacije postupka. 

### 1.2.1. Vrste oporavka

Prema Prestonu (2021.), procesi oporavka mogu se podijeliti na operativni oporavak, oporavak sustava (servera) i oporavak od katastrofe. 

Operativni oporavak je najčešći tip oporavka. Odnosi se na povrat manjih datoteka, direktorija ili skupova podataka izgubljenih greškom ili korupcijom originala. Oporavak ovog tipa brz je i ne uzrokuje previše problema za sustav. 

Oporavak sustava, odnosno servera, označava tip oporavka kojim se jednim potezom oporavlja cijeli sustav. Oporavak na sklopovlje vraća kompletno stanje prijašnjeg sustava, pa to podrazumijeva da se koriste sigurnosne kopije slika diska sustava. Time se ne vraćaju samo podaci već i ostatak okruženja poput operativnog sustava i instaliranih programa. Primjer situacije u kojoj se koristi ovakav tip oporavka je onaj u kojemu je sklopovlje još uvijek funkcionalno, ali su podaci izgubljeni poput primjerice ransomware napada. 

Idealan pristup oporavku od katastrofe bio bi dočekati ga spreman sa rezervnim okruženjem koje spremno čeka da bude upogonjeno u slučaju pada originalnog produkcijskog okruženja (Preston, 2021). Najskuplji i ujedno najstariji pristup ovoj ideji je izgradnja vlastitog rezervnog sustava. Često se cijena ovakvog sustava amortizira na način da se u njemu koristi stara oprema koja je zamijenjena novom u produkcijskom sustavu. Moderniji pristup ovoj ideji je plaćanje rezervnog sustava kao usluge (*engl. Recovery-Site-as-a-Service*) koji ispada nešto jeftiniji. Međutim, još jeftiniji i moćniji pristup ideji unajmljivanja tuđih kapaciteta je korištenje cloud infrastrukture za ovakve potrebe, pa je to aktualni trend prema kojem se većina organizacija konformira. Ovo rješenje je idealno jer se naplaćuje prema korištenosti resursa, a ima potencijal za daleko veće proširenje kapaciteta ukoliko je to potrebno. 

Ukoliko se rezervno okruženje pripremi unaprijed ali na njega nije prenesena aktualna verzija sigurnosne kopije, onda se ono smatra "hladnim” (*engl. cold site*). Priprema ovakvog okruženja traje, ali je zato jeftinija. Ukoliko je rezervno okruženje spremno i na njemu se aktivno prenose aktualne kopije, data se ono smatra “toplim” (*engl. hot site*). Srednja opcija je “mlaka” (*engl. warm site*). Radi se o okruženju koje se tek povremeno ažurira s aktualnim podacima te ono nije konstantno upogonjeno i spremno za korištenje. Odabir između ovih opcija svodi se na zadane RTO i RPO zahtjeve. 
